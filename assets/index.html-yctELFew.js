import{_ as i,c as a,a as l,o as n}from"./app-CNZkbZ7y.js";const t={};function e(h,s){return n(),a("div",null,s[0]||(s[0]=[l(`<p>Elasticsearch 是一个基于分布式架构的搜索引擎，理解其核心概念是掌握 Elasticsearch 的关键。以下是 Elasticsearch 中最重要的一些概念。</p><hr><h2 id="_2-1-集群-cluster" tabindex="-1"><a class="header-anchor" href="#_2-1-集群-cluster"><span>2.1 集群（Cluster）</span></a></h2><ul><li><strong>定义</strong>：一个集群由一个或多个节点（Node）组成，这些节点共同存储数据并提供搜索服务。</li><li><strong>特点</strong>： <ul><li>每个集群有一个唯一的名称（默认名为 <code>elasticsearch</code>）。</li><li>集群中的节点通过集群名称自动发现并加入集群。</li></ul></li><li><strong>作用</strong>： <ul><li>提供高可用性：即使部分节点故障，集群仍能正常运行。</li><li>支持水平扩展：可以通过增加节点来提升性能和容量。</li></ul></li></ul><hr><h2 id="_2-2-节点-node" tabindex="-1"><a class="header-anchor" href="#_2-2-节点-node"><span>2.2 节点（Node）</span></a></h2><ul><li><strong>定义</strong>：节点是集群中的一个服务器，负责存储数据并参与搜索和索引操作。</li><li><strong>类型</strong>： <ul><li><strong>主节点（Master Node）</strong>：负责管理集群状态，如创建或删除索引、分配分片等。</li><li><strong>数据节点（Data Node）</strong>：存储数据并执行数据相关的操作（如搜索、聚合）。</li><li><strong>协调节点（Coordinating Node）</strong>：接收客户端请求并将其路由到正确的节点。</li><li><strong>Ingest 节点</strong>：用于预处理文档（如数据转换、字段提取）。</li></ul></li><li><strong>配置</strong>： <ul><li>每个节点可以通过配置文件（<code>elasticsearch.yml</code>）指定其角色。</li></ul></li></ul><hr><h2 id="_2-3-索引-index" tabindex="-1"><a class="header-anchor" href="#_2-3-索引-index"><span>2.3 索引（Index）</span></a></h2><ul><li><strong>定义</strong>：索引是 Elasticsearch 中存储数据的逻辑容器，类似于关系型数据库中的表。</li><li><strong>特点</strong>： <ul><li>每个索引有一个唯一的名称。</li><li>索引可以包含多个文档（Document）。</li></ul></li><li><strong>作用</strong>： <ul><li>用于组织和存储具有相似结构的文档。</li><li>支持对文档进行搜索、更新和删除操作。</li></ul></li></ul><hr><h2 id="_2-4-类型-type-【已弃用】" tabindex="-1"><a class="header-anchor" href="#_2-4-类型-type-【已弃用】"><span>2.4 类型（Type）【已弃用】</span></a></h2><ul><li><strong>定义</strong>：在 Elasticsearch 7.x 之前，索引可以包含多个类型（类似于表结构），但从 7.x 开始，类型已被弃用。</li><li><strong>现状</strong>： <ul><li>每个索引只能包含一个类型，默认类型为 <code>_doc</code>。</li><li>建议将不同类型的数据存储在不同的索引中。</li></ul></li></ul><hr><h2 id="_2-5-文档-document" tabindex="-1"><a class="header-anchor" href="#_2-5-文档-document"><span>2.5 文档（Document）</span></a></h2><ul><li><strong>定义</strong>：文档是 Elasticsearch 中的基本数据单元，以 JSON 格式存储。</li><li><strong>特点</strong>： <ul><li>每个文档属于一个索引和一个类型。</li><li>文档具有唯一的 ID，可以由用户指定或由 Elasticsearch 自动生成。</li></ul></li><li><strong>示例</strong>：<div class="language-json line-numbers-mode" data-ext="json" data-title="json"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">{</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">  &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">id</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">  &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">title</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Elasticsearch 入门教程</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">  &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">content</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Elasticsearch 是一个分布式搜索引擎...</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">  &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">tags</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> [</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">搜索</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">大数据</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h2 id="_2-6-分片-shard-和副本-replica" tabindex="-1"><a class="header-anchor" href="#_2-6-分片-shard-和副本-replica"><span>2.6 分片（Shard）和副本（Replica）</span></a></h2><h3 id="分片-shard" tabindex="-1"><a class="header-anchor" href="#分片-shard"><span>分片（Shard）</span></a></h3><ul><li><strong>定义</strong>：分片是索引的子集，用于将数据分布到多个节点上。</li><li><strong>特点</strong>： <ul><li>每个索引可以分为多个分片。</li><li>分片分为主分片（Primary Shard）和副本分片（Replica Shard）。</li></ul></li><li><strong>作用</strong>： <ul><li>支持水平扩展：通过增加分片数量，可以提升索引的容量和性能。</li><li>提高查询性能：查询可以并行地在多个分片上执行。</li></ul></li></ul><h3 id="副本-replica" tabindex="-1"><a class="header-anchor" href="#副本-replica"><span>副本（Replica）</span></a></h3><ul><li><strong>定义</strong>：副本是主分片的备份，用于提高数据的可用性和查询性能。</li><li><strong>特点</strong>： <ul><li>副本分片可以与主分片位于不同的节点上。</li><li>副本分片可以处理读请求，从而分担主分片的负载。</li></ul></li><li><strong>作用</strong>： <ul><li>提高容错性：如果主分片故障，副本分片可以接管。</li><li>提高查询性能：读请求可以分发到副本分片。</li></ul></li></ul><hr><h2 id="_2-7-映射-mapping" tabindex="-1"><a class="header-anchor" href="#_2-7-映射-mapping"><span>2.7 映射（Mapping）</span></a></h2><ul><li><strong>定义</strong>：映射用于定义索引中字段的类型和属性。</li><li><strong>作用</strong>： <ul><li>指定字段的数据类型（如文本、数值、日期等）。</li><li>定义字段的分析器（Analyzer）和搜索行为。</li></ul></li><li><strong>示例</strong>：<div class="language-json line-numbers-mode" data-ext="json" data-title="json"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">{</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">  &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">mappings</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">    &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">properties</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">      &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">title</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;"> &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">type</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">text</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> },</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">      &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">content</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;"> &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">type</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">text</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> },</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">      &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">created_at</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;"> &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">type</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">date</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> }</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    }</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  }</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h2 id="_2-8-分析器-analyzer" tabindex="-1"><a class="header-anchor" href="#_2-8-分析器-analyzer"><span>2.8 分析器（Analyzer）</span></a></h2><ul><li><strong>定义</strong>：分析器用于将文本转换为倒排索引中的词项（Term）。</li><li><strong>组成</strong>： <ul><li><strong>字符过滤器（Character Filter）</strong>：对原始文本进行预处理（如去除 HTML 标签）。</li><li><strong>分词器（Tokenizer）</strong>：将文本拆分为词项。</li><li><strong>词项过滤器（Token Filter）</strong>：对词项进行处理（如小写转换、去除停用词）。</li></ul></li><li><strong>示例</strong>： <ul><li>默认分析器：将文本转换为小写并拆分为单词。</li></ul></li></ul><hr><h2 id="_2-9-查询-query" tabindex="-1"><a class="header-anchor" href="#_2-9-查询-query"><span>2.9 查询（Query）</span></a></h2><ul><li><strong>定义</strong>：查询用于从 Elasticsearch 中检索符合条件的文档。</li><li><strong>类型</strong>： <ul><li><strong>全文搜索</strong>：对文本字段进行模糊匹配。</li><li><strong>精确匹配</strong>：对字段进行精确值匹配。</li><li><strong>范围查询</strong>：对数值或日期字段进行范围匹配。</li><li><strong>聚合查询</strong>：对数据进行统计和分析。</li></ul></li></ul>`,29)]))}const k=i(t,[["render",e],["__file","index.html.vue"]]),p=JSON.parse('{"path":"/elasticsearch/b6coxlql/","title":"elasticsearch核心概念","lang":"zh-CN","frontmatter":{"title":"elasticsearch核心概念","createTime":"2025/03/07 11:49:05","permalink":"/elasticsearch/b6coxlql/"},"headers":[],"readingTime":{"minutes":3.62,"words":1087},"git":{"updatedTime":1741686051000,"contributors":[{"name":"netjic","username":"netjic","email":"netjic@163.com","commits":1,"avatar":"https://gravatar.com/avatar/374578fe375437866193fe849b770e3f9c74eacc1a7125303870c05b7a97309d?d=retro"}]},"filePathRelative":"notes/elasticsearch/2.elasticsearch核心概念.md","bulletin":false}');export{k as comp,p as data};
