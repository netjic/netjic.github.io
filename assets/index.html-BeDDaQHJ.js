import{_ as i,c as n,a,o as l}from"./app-DRG5qZNX.js";const t={};function e(d,s){return l(),n("div",null,s[0]||(s[0]=[a(`<p>Linux 系统是一种典型的多用户系统，不同的用户处于不同的地位，拥有不同的权限。</p><p>为了保护系统的安全性，Linux 系统对不同的用户访问同一文件（包括目录文件）的权限做了不同的规定。</p><p>在 Linux 中我们可以使用 <code>ll </code>或者<code> ls –l</code> 命令来显示一个文件的属性以及文件所属的用户和组。</p><p>在 Linux 中第一个字符代表这个文件是目录、文件或链接文件等等。</p><ul><li>若是 d 则是目录</li><li>若是 - 则是文件</li><li>若是 l 则表示为链接文档(link file)</li><li>若是 b 则表示为装置文件里面的可供储存的接口设备(可随机存取装置)</li><li>若是 c 则表示为装置文件里面的串行端口设备，例如键盘、鼠标(一次性读取装置)</li></ul><p>接下来的字符中，以三个为一组，且均为<code>rwx</code>的三个参数的组合。其中， <code>r </code>代表可读(read)、 <code>w </code>代表可写(write)、 <code>x </code>代表可执行(execute)。 要注意的是，这三个权限的位置不会改变，如果没有权限，就会出现减号 <code>- </code>而已。</p><p>每个文件的属性由左边第一部分的 10 个字符来确定。</p><ol><li>第 0 位确定文件类型，第 1-3 位确定属主（该文件的所有者）拥有该文件的权限。</li><li>第4-6位确定属组（所有者的同组用户）拥有该文件的权限。</li><li>第7-9位确定其他用户拥有该文件的权限。</li><li>第 1、4、7 位表示读权限，如果用 r 字符表示，则有读权限，如果用 - 字符表示，则没有读权限。</li><li>第 2、5、8 位表示写权限，如果用 w 字符表示，则有写权限，如果用 - 字符表示没有写权限。</li><li>第 3、6、9 位表示可执行权限，如果用 x 字符表示，则有执行权限，如果用 - 字符表示，则没有执行权限。</li></ol><div class="language- line-numbers-mode" data-ext="" data-title=""><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>文件类型&amp;权限，链接数，文件属主，文件属组，文件大小，建立或修改的时间，文件名字   </span></span>
<span class="line"><span>drwxr-xr-x 4 root root 4096 Jun 24  2024 docker</span></span>
<span class="line"><span>-rw-r--r-- 1 root root  768 Jan  7 17:33 test.txt</span></span>
<span class="line"><span>如果查看到是文件：链接数指的是硬链接个数。</span></span>
<span class="line"><span>如果查看的是文件夹：链接数指的是子文件夹个数。</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="chmod命令" tabindex="-1"><a class="header-anchor" href="#chmod命令"><span>chmod命令</span></a></h2><p>改变文件或目录权限。</p><p>chmod命令来自于英文词组”change mode“的缩写。默认只有文件的所有者和管理员可以设置文件权限，普通用户只能管理自己文件的权限属性。</p><p>设置权限时可以使用数字法，亦可使用字母表达式，对于目录文件建议加入-R参数进行递归操作，意味着不仅对于目录本身，也对目录内的子文件/目录都进行新权限的设定。</p><p>Linux/Unix 的文件调用权限分为三级 : <code>文件所有者（Owner）</code>、<code>用户组（Group）</code>、<code>其它用户（Other Users）</code>。</p><p><strong>语法：</strong> <code>chmod [ {ugoa} {+-=} {rwx} ] 文件或目录</code></p><p><strong>语法：</strong> <code>chmod [ mode=421 ] 文件或目录</code></p><p>u 表示该文件的拥有者，g 表示与该文件的拥有者属于同一个群体(group)者，o 表示其他以外的人，a 表示这三者皆是。</p><ul><li>表示增加权限、- 表示取消权限、= 表示唯一设定权限。</li></ul><p>r 表示可读取，w 表示可写入，x 表示可执行，X 表示只有当该文件是个子目录或者该文件已经被设定过为可执行。</p><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td>-c</td><td>若该文件权限确实已经更改，才显示其更改动作</td></tr><tr><td>-f</td><td>若该文件权限无法被更改也不显示错误讯息</td></tr><tr><td>-v</td><td>显示权限变更的详细资料</td></tr><tr><td>-R</td><td>对目前目录下的所有文件与子目录进行相同的权限变更(即以递回的方式逐个变更)</td></tr></tbody></table><p>chmod命令可以使用八进制数来指定权限。</p><p>文件或目录的权限位是由9个权限位来控制，每三位为一组，它们分别是文件所有者（User）的读、写、执行，用户组（Group）的读、写、执行以及其它用户（Other）的读、写、执行。</p><p>文件权限被放在一个比特掩码中，掩码中指定的比特位设为1，用来说明一个类具有相应的优先级。</p><table><thead><tr><th>#</th><th>权限</th><th>rwx</th><th>二进制</th></tr></thead><tbody><tr><td>7</td><td>读 + 写 + 执行</td><td>r w x</td><td>111</td></tr><tr><td>6</td><td>读 + 写</td><td>r w -</td><td>110</td></tr><tr><td>5</td><td>读 + 执行</td><td>r - x</td><td>101</td></tr><tr><td>4</td><td>只读</td><td>r - -</td><td>100</td></tr><tr><td>3</td><td>写 + 执行</td><td>- w x</td><td>011</td></tr><tr><td>2</td><td>只写</td><td>- w -</td><td>010</td></tr><tr><td>1</td><td>只执行</td><td>- - x</td><td>001</td></tr><tr><td>0</td><td>无</td><td>- - -</td><td>000</td></tr></tbody></table><p><strong>例：765 解释：</strong></p><p>所有者的权限用数字表达：属主的那三个权限位的数字加起来的总和。如 rwx ，也就是 4+2+1 ，应该是 7。</p><p>用户组的权限用数字表达：属组的那个权限位数字的相加的总和。如 rw- ，也就是 4+2+0 ，应该是 6。</p><p>其它用户的权限数字表达：其它用户权限位的数字相加的总和。如 r-x ，也就是 4+0+1 ，应该是 5。</p><p>参考示例：</p><div class="language-shell line-numbers-mode" data-ext="shell" data-title="shell"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 设定某个文件的权限为775</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">chmod</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 775</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> anaconda-ks.cfg</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 设定某个文件让任何人都可以读取</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">chmod</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> a+r</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> anaconda-ks.cfg</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 设定某个目录及其内子文件任何人都可以读取和读取</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">chmod</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -R</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> a+r</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Documents</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 设定某个二进制命令文件上新增SUID特殊权限位</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">chmod</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> u+s</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /sbin/reboot</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 将文件 file1.txt 设为所有人皆可读取</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">chmod</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ugo+r</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> file1.txt</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 将文件 file1.txt 设为所有人皆可读取</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">chmod</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> a+r</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> file1.txt</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 将文件 file1.txt 与 file2.txt 设为该文件拥有者，与其所属同一个群体者可写入，但其他以外的人则不可写入</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">chmod</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ug+w,o-w</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> file1.txt</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> file2.txt</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 为 ex1.py 文件拥有者增加可执行权限</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">chmod</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> u+x</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ex1.py</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 将目前目录下的所有文件与子目录皆设为任何人可读取</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">chmod</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -R</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> a+r</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> *</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 此外chmod也可以用数字来表示权限如</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">chmod</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 777</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> file</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="chown命令" tabindex="-1"><a class="header-anchor" href="#chown命令"><span>chown命令</span></a></h2><p>改变文件或目录的用户和用户组信息。</p><p>chown命令来自于英文词组”Change owner“的缩写。管理员可以改变一切文件的所属信息，而普通用户只能改变自己文件的所属信息。</p><p><strong>语法格式：</strong> <code>chown [参数] 所属主:所属组 文件</code></p><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td>-R</td><td>对目前目录下的所有文件与目录进行相同的变更</td></tr><tr><td>-c</td><td>显示所属信息变更信息</td></tr><tr><td>-f</td><td>若该文件拥有者无法被更改也不要显示错误</td></tr><tr><td>-h</td><td>只对于链接文件进行变更，而非真正指向的文件</td></tr><tr><td>-v</td><td>显示拥有者变更的详细资料</td></tr></tbody></table><p>参考示例：</p><div class="language-shell line-numbers-mode" data-ext="shell" data-title="shell"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 改变指定文件的所属主与所属组</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">chown</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> root:root</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /etc/fstab</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 改变指定文件的所属主与所属组，并显示过程</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">chown</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -c</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> linuxprobe:linuxprobe</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /etc/fstab</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 改变指定目录及其内所有子文件的所属主与所属组</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">chown</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -R</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> root:root</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /etc</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 把 /var/run/httpd.pid 的所有者设置 root</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">chown</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> root</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /var/run/httpd.pid</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 将文件 file1.txt 的拥有者设为 runoob，群体的使用者 runoobgroup</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">chown</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> runoob:runoobgroup</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> file1.txt</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 将当前前目录下的所有文件与子目录的拥有者皆设为 runoob，群体的使用者 runoobgroup</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">chown</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -R</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> runoob:runoobgroup</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> *</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 把 /home/runoob 的关联组设置为 512 （关联组ID），不改变所有者</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">chown</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> :512</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /home/runoob</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="chgrp命令" tabindex="-1"><a class="header-anchor" href="#chgrp命令"><span>chgrp命令</span></a></h2><p>更改文件用户组。</p><p>chgrp是英语单词“change group”的缩写，命令的作用和其中文释义一样，为用于变更文件或目录的所属群组。</p><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td>-c</td><td>效果类似”-v”参数，但仅回报更改的部分</td></tr><tr><td>-f</td><td>不显示错误信息</td></tr><tr><td>-h</td><td>对符号连接的文件作修改，而不更动其他任何相关文件</td></tr><tr><td>-R</td><td>递归处理，将指定目录下的所有文件及子目录一并处理</td></tr><tr><td>-v</td><td>显示指令执行过程</td></tr><tr><td>–reference</td><td>把指定文件或目录的所属群组全部设成和参考文件或目录的所属群组相同</td></tr></tbody></table><p>参考示例：</p><div class="language-shell line-numbers-mode" data-ext="shell" data-title="shell"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 改变文件的群组属性</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">chgrp</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -v</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> linuxcool</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> file</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 根据指定文件改变文件的群组属性</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">chgrp</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --reference=file_1</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> file_2</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 将/usr/linuxcool及其子目录下的所有文件的用户组改为cool</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">chgrp</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -R</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> cool</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /usr/linuxcool</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,43)]))}const h=i(t,[["render",e],["__file","index.html.vue"]]),r=JSON.parse('{"path":"/linux/%E6%96%87%E4%BB%B6%E5%9F%BA%E6%9C%AC%E5%B1%9E%E6%80%A7/2jia22kz/","title":"文件基本属性","lang":"zh-CN","frontmatter":{"title":"文件基本属性","createTime":"2025/01/08 15:44:13","permalink":"/linux/文件基本属性/2jia22kz/"},"headers":[],"readingTime":{"minutes":7.11,"words":2133},"git":{"updatedTime":1736323201000,"contributors":[{"name":"netjic","username":"netjic","email":"netjic@163.com","commits":1,"avatar":"https://gravatar.com/avatar/374578fe375437866193fe849b770e3f9c74eacc1a7125303870c05b7a97309d?d=retro"}]},"filePathRelative":"notes/linux/文件基本属性.md","bulletin":false}');export{h as comp,r as data};
