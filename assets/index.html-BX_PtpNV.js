import{_ as i,c as t,a,o as e}from"./app-COJ8pQJO.js";const n={};function l(d,s){return e(),t("div",null,s[0]||(s[0]=[a(`<p>计算机中，一个正在执行的程序或命令，被叫做“进程”，启动一次之后一直存在、常驻内存的进程，一般被称作“服务”。</p><h2 id="常用命令" tabindex="-1"><a class="header-anchor" href="#常用命令"><span>常用命令</span></a></h2><h3 id="service命令-centos6" tabindex="-1"><a class="header-anchor" href="#service命令-centos6"><span>service命令（CentOS6）</span></a></h3><p>用来控制系统服务的使用工具，它可以启动、停止、重新启动和关闭系统服务，还可以显示所有系统服务的状态。</p><p>查看方法 <code>/etc/init.d/服务名</code></p><p>service 服务名 start | stop | restart | status</p><table><thead><tr><th>语法</th><th>说明</th></tr></thead><tbody><tr><td>-status-all</td><td>显示所有服务的状态</td></tr><tr><td>-h</td><td>显示帮助信息</td></tr></tbody></table><p>显示所有服务的状态：</p><div class="language-shell line-numbers-mode" data-ext="shell" data-title="shell"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">service</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --status-all</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="systemctl命令" tabindex="-1"><a class="header-anchor" href="#systemctl命令"><span>systemctl命令</span></a></h3><p>systemctl命令来自于英文词组“system contrl”的缩写，其功能是用于管理系统服务。从RHEL/CentOS7版本之后初始化进程服务init被替代成了systemd服务，systemd初始化进程服务的管理是通过systemctl命令完成的，从功能上涵盖了之前service、chkconfig、init、setup等多条命令的大部分功能。</p><p>查看服务的方法：<code>/usr/lib/systemd/system</code></p><p>service start｜stop｜restart｜status 服务名</p><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td>start</td><td>启动服务</td></tr><tr><td>stop</td><td>停止服务</td></tr><tr><td>restart</td><td>重启服务</td></tr><tr><td>enable</td><td>使某服务开机自启</td></tr><tr><td>disable</td><td>关闭某服务开机自启</td></tr><tr><td>status</td><td>查看服务状态</td></tr><tr><td>list -units--type=service</td><td>列举所有已启动服务</td></tr></tbody></table><p>参考示例：</p><div class="language-shell line-numbers-mode" data-ext="shell" data-title="shell"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 启动指定的服务</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">systemctl</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> start</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> sshd</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 停止指定的服务</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">systemctl</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> stop</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> sshd</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 重启指定的服务</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">systemctl</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> restart</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> sshd</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 查看指定的服务的运行状态</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">systemctl</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> status</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> sshd</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 将指定的服务加入开机启动项中</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">systemctl</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> enable</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> sshd</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 将指定的服务从开机启动项中取消</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">systemctl</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> disable</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> sshd</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 显示系统中所有已启动的服务列表信息</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">systemctl</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> list-units</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --type=service</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="setup命令" tabindex="-1"><a class="header-anchor" href="#setup命令"><span>setup命令</span></a></h3><p>setup 命令是一个基于文本界面的系统管理工具，集成了用户认证管理、防火墙管理、网络管理和系统服务管理。</p><table><thead><tr><th>setup面板</th><th>说明</th></tr></thead><tbody><tr><td>Authentication configuration</td><td>用户管理认证</td></tr><tr><td>Firewall configuration</td><td>防火墙管理</td></tr><tr><td>Network configuration</td><td>网络管理</td></tr><tr><td>System services</td><td>系统服务自启动管理</td></tr></tbody></table><p>进入setup管理界面</p><div class="language-shell line-numbers-mode" data-ext="shell" data-title="shell"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">setup</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="chkconfig命令" tabindex="-1"><a class="header-anchor" href="#chkconfig命令"><span>chkconfig命令</span></a></h3><p>用于检查，设置系统的各种服务。这是Red Hat公司遵循GPL规则所开发的程序，他可以查询操作系统在每一个执行等级中会执行哪些系统服务，其中包括各类常驻服务。</p><p><code>chkconfig chkconfig [--add][--del][--list][系统服务] 或 chkconfig [--level &lt;等级代号&gt;][系统服务][on/off/reset]</code></p><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td>-add</td><td>增加所指定的系统服务，让chkconfig指令得以管理它，并同时在系统启动的叙述文件内增加相关数据。</td></tr><tr><td>-del</td><td>删除指定系统服务，不再由chkconfig指令管理，并同时在系统启动的叙述文件内删除相关数据。</td></tr><tr><td>-level<code>等级代号</code></td><td>指定读系统服务要在哪一个执行等级中开启或管理</td></tr></tbody></table><p>chkconfig 没有参数运行时，显示用法。如果在服务名后面指定了on，off或者reset，那么chkconfig 会改变指定服务的启动信息。on和off分别指服务被启动和停止，reset指重置服务的启动信息，无论有问题的初始化脚本指定了什么。on和off开关，系统默认只对运行级2，3，4，5有效，但是reset可以对所有运行级有效。</p><p>level选项可以指定要查看的运行级而不一定是当前运行级。对于每个运行级，只能有一个启动脚本或者停止脚本。当切换运行级时，init不会重新启动已经启动的服务，也不会再次去停止已经停止的服务</p><div class="language-shell line-numbers-mode" data-ext="shell" data-title="shell"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">chkconfig</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --list</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  # 列出所有的系统服务</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">chkconfig</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --add</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> httpd</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 将httpd添加为受chkconfi管理的服务：</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">chkconfig</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --del</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> httpd</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 删除httpd服务</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">chkconfig</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --level</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 35</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> httpd</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> on</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  # 在级别3和5上设定服务为“on”，开机自动启动也是配置这个</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">chkconfig</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --level</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 01246</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> httpd</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> off</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  # 在其级别上设为off</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 为了确认你的配置被正确的修改了，我们可以列出服务运行级别，如下所示：</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># chkconfig --list httpd</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">httpd</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">   0:off</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">   1:off</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">    2:off</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">    3:on</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">    4:off</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">    5:on</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">    6:off</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="filewall-cmd命令" tabindex="-1"><a class="header-anchor" href="#filewall-cmd命令"><span>filewall-cmd命令</span></a></h3><p>用与防火墙策略管理，是firewall服务的配置工具。使用firewall-cmd命令修改的防火墙策略会立即生效，但重启后失效，因此推荐要加上permanent参数。</p><h2 id="运行级别" tabindex="-1"><a class="header-anchor" href="#运行级别"><span>运行级别</span></a></h2><p>CentOS6</p><p><code>开机</code>=&gt;<code>BIOS</code> =&gt;<code>/boot</code> =&gt;<code> init进程</code>=&gt;<code>运行级别</code> =&gt;<code> 运行级别对应的服务</code></p><p>查看默认级别: <code> vi /etc/inittab</code></p><p>Linux系统中有7种运行级别（runleve）常用的级别是3和5</p><ul><li>运行级别0：系统停机状态，系统默认运行级别不能设为0，否则不能正常启动。</li><li>运行级别1：单用户工作状态，root权限，用于系统维护，禁止远程登陆。</li><li>运行级别2：多用户状态（没有NFS：网络文件系统），不支持网络。</li><li>运行级别3：完全的多用户状态（有NFS：网络文件系统），登录后进入控制台命令行模式。</li><li>运行级别4：系统未使用，保留</li><li>运行级别5：X11控制台，登录后进入图形GUI模式。</li><li>运行级别6：系统正常关闭并重启，默认运行级别不能设为6，否则不能正常启动。</li></ul><p>centOS7的运行级别简化为：</p><ul><li>multi-user.target 等价于原运行级别3，多用户有网，无图形界面</li><li>graphical.target 等价于原运行级别5，多用户有网，有图形界面</li></ul><p>查看当前运行级别</p><div class="language-shell line-numbers-mode" data-ext="shell" data-title="shell"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">systemctl</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> get-default</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>修改当前运行级别</p><div class="language-shell line-numbers-mode" data-ext="shell" data-title="shell"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">systemctl</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> set-default</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> xxx.target</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="防火墙开闭" tabindex="-1"><a class="header-anchor" href="#防火墙开闭"><span>防火墙开闭</span></a></h3><p>CentOS7 版本后防火墙默认使用的是firewalld</p><p>查看防火墙状态</p><div class="language-shell line-numbers-mode" data-ext="shell" data-title="shell"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">systemctl</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> status</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> firewalld.service</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>运行上述命令后，如果看到有绿色字样标注的“active（runing）”，说明防火墙是开启状态。</p><p>关闭运行的防火墙</p><div class="language-shell line-numbers-mode" data-ext="shell" data-title="shell"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">systemctl</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> stop</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> firewalld.service</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>关闭后，可查看防火墙状态，当显示disavtive（dead）的字样，说明，防火墙已经关闭。</p><p>上面的命令只是临时关闭了CentOS7防火墙，当重启操作系统后，防火墙服务还是会再次启动。如果想永久关闭防火墙则还需要开机禁用防火墙服务。</p><p>开机禁用防火墙服务</p><div class="language-shell line-numbers-mode" data-ext="shell" data-title="shell"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">systemctl</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> disable</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> firewalld.service</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>启动防火墙</p><div class="language-shell line-numbers-mode" data-ext="shell" data-title="shell"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">systemctl</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> start</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> firewalld.service</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>开机重启命令</p><p>在linux领域内大多用在服务器上，很少遇到关机的操作。毕竟服务器跑一个服务是不会停止的，除非特殊情况下，不得已才会关机。</p><h3 id="shutdown命令" tabindex="-1"><a class="header-anchor" href="#shutdown命令"><span>shutdown命令</span></a></h3><p>可以用来关机程序，并且在关机以前传送讯息给所有使用者正在执行的程序，shutdown也可以用来重开机。shutdown命令作用同于poweroff命令。</p><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td>-f</td><td>重新启动时不执行fsck</td></tr><tr><td>-F</td><td>重新启动时执行fsck</td></tr><tr><td>-h</td><td>将系统关机</td></tr><tr><td>-c</td><td>取消关机任务</td></tr><tr><td>-k</td><td>发送信息给所用用户</td></tr><tr><td>-n</td><td>不调用init程序进行关机</td></tr><tr><td>-r</td><td>将系统重启</td></tr><tr><td>-t</td><td>送出警告信息和删除信息之间要延迟多少秒</td></tr></tbody></table><p>参考示例</p><div class="language-shell line-numbers-mode" data-ext="shell" data-title="shell"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 立即关机</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">shutdown</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -h</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> now</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 指定10分钟后关机</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">shutdown</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -h</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 10</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 立即重新启动计算机</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">shutdown</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -h</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> now</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 设定当前的服务器5分钟后关机，同时发出警告信息给所有已登录的用户：</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">shutdown</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> +5</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">system will shutdown after 5 minutes</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 取消当前服务器上已有的关机任务：</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">shutdown</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -c</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="sync命令" tabindex="-1"><a class="header-anchor" href="#sync命令"><span>sync命令</span></a></h3><p>用于数据同步，sync命令是关闭linux系统时使用的</p><p>sync命令用于强制被改变的内容立即写入磁盘，更新信息速度非常快，在Linux/Unix系统中，在文件或数据处理过程中一般先放到内存缓冲区中，等到适当的时候再写入磁盘，以提高系统的运行效率。</p><p>sync命令则可用来强制将内存缓冲区中的数据立即写入瓷盘中。用户通常不需要执行sync命令，系统会自动执行update或bdflush操作，将缓冲区的数据写入磁盘。只有在update或bdflush无法执行或用户需要非正常关机时，才需要手动执行sync命令。</p><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td>-help</td><td>显示命令详细帮助信息</td></tr><tr><td>-version</td><td>显示版本号</td></tr></tbody></table><h3 id="halt命令" tabindex="-1"><a class="header-anchor" href="#halt命令"><span>halt命令</span></a></h3><p>用于关闭当前服务器系统，类似于poweroff与shutdown命令，没有太大差别。</p><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td>-n</td><td>在关机前不做将记忆体资料写回硬盘的动作</td></tr><tr><td>-w</td><td>模拟关机，把过程写入到日志文件</td></tr><tr><td>-d</td><td>不写入日志记录</td></tr><tr><td>-f</td><td>强制关机或重启</td></tr><tr><td>-i</td><td>关机或重启前关掉所有的网络服务</td></tr><tr><td>-p</td><td>当关机的时候，顺便做关闭电源的动作</td></tr></tbody></table><div class="language-shell line-numbers-mode" data-ext="shell" data-title="shell"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 关闭系统</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">halt</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 关闭系统并关闭电源</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">halt</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -p</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 关闭系统，但不留下记录</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">halt</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -d</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 强制关闭当前服务器系统</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">halt</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -f</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="poweroff命令" tabindex="-1"><a class="header-anchor" href="#poweroff命令"><span>poweroff命令</span></a></h3><p>用来关闭计算机操作系统并且切断系统电源。如果确认系统中已经没有用户存在且所有数据都已保存，需要立即关闭系统，可以使用poweroff命令。</p><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td>-n</td><td>关闭系统时不执行sync操作</td></tr><tr><td>-w</td><td>不是真正关闭操作系统，仅在日志文件“/var/log/wtmp”中</td></tr><tr><td>-d</td><td>关闭操作系统时，不将操作写入日志文件“var/log/wtmp”中添加相应的记录</td></tr><tr><td>-f</td><td>强制关闭操作系统</td></tr><tr><td>-i</td><td>关闭操作系统之前关闭所有的网络接口</td></tr><tr><td>-h</td><td>关闭操作系统之前将系统中所有的硬件设置为备用模式</td></tr></tbody></table><div class="language-shell line-numbers-mode" data-ext="shell" data-title="shell"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 关闭计算机操作系统并且切断系统电源：</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">poweroff</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 使用-h参数关闭操作系统之前将系统中所有硬件设置为备用模式</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">poweroff</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -h</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="reboot命令" tabindex="-1"><a class="header-anchor" href="#reboot命令"><span>reboot命令</span></a></h3><p>用于重新启动计算机。</p><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td>-n</td><td>直接重启系统，不保存当前资料</td></tr><tr><td>-w</td><td>模拟重启过程，将过程写入到日志中</td></tr><tr><td>-d</td><td>重启系统但不将过程写入日志中</td></tr><tr><td>-f</td><td>强制重启系统</td></tr><tr><td>-i</td><td>关闭所有的网络服务，然后重启系统</td></tr></tbody></table><div class="language- line-numbers-mode" data-ext="" data-title=""><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span># 重启当前系统</span></span>
<span class="line"><span>reboot</span></span>
<span class="line"><span># 模拟重启当前系统</span></span>
<span class="line"><span>reboot -w</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,79)]))}const p=i(n,[["render",l],["__file","index.html.vue"]]),r=JSON.parse('{"path":"/linux/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/9qsl506a/","title":"系统管理","lang":"zh-CN","frontmatter":{"title":"系统管理","createTime":"2025/01/06 22:52:03","permalink":"/linux/系统管理/9qsl506a/"},"headers":[],"readingTime":{"minutes":8.65,"words":2595},"git":{"updatedTime":1736323201000,"contributors":[{"name":"netjic","username":"netjic","email":"netjic@163.com","commits":1,"avatar":"https://gravatar.com/avatar/374578fe375437866193fe849b770e3f9c74eacc1a7125303870c05b7a97309d?d=retro"}]},"filePathRelative":"notes/linux/系统管理.md","bulletin":false}');export{p as comp,r as data};
